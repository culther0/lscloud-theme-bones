---
action: 'shop:cart'
template: default
protocol: all
published: true
name: Cart
url: /cart
---
{{ open_form({'class': 'custom'}) }}
{% if itemCount %}
	<table>
		{% for item in items %}
		<tr>
			<td>
				<a href="/product/{{ item.product.url_name }}"><img src="{{ item.product.images.first.thumbnail(160, 160)|default('http://placehold.it/160x160') }}"/></a>
			</td>
			<td>
				<h3><a href="/product/{{ item.product.url_name }}">{{ item.product.name }}</a></h3>
				{% set description = item.optionsString() %}
				{% if description %}<p>{{ description|unescape }}</p>{% endif %}
			</td>
			<td><input type="text" name="item_quantity[{{ item.key }}]" value="{{ item.quantity }}"></td>
			<td><h4>{{ item.fullPrice()|currency }}</h4></td> 
			{% if cart.getDiscountTotal() > 0 %}
				<td><h4>{{ item.totalDiscount()|currency }}</h4></td>
				<td><h4>{{ item.price()|currency }}</h4></td>
			{% endif %}
			<td><h4>{{ item.total()|currency }}</h4></td>
			<td>
				<a href="#" data-ajax-handler="shop:cart" {# data-ajax-confirm="Do you really want to remove this item from the cart?" #} data-ajax-update="#cart-content=shop-cart-content, #mini-cart=shop-minicart"data-ajax-extra-fields="delete_item='{{ item.key }}'">Remove</a>
			</td>
		</tr>
		{% endfor %}
	</table>

	{% if totals.discountTotal > 0 %}
		<h4><strong>Coupon discount:</strong> {{ totals.discountTotal|currency }}</h4>
	{% endif %}
	<h4><strong>Cart total:</strong> {{ totals.subtotal|currency }}</h4>
	{% if totals.totalShippingQuote > 0 %}
		<h4><strong>Shipping:</strong> {{ totals.totalShippingQuote|currency }}</h4>
	{% endif %}
	<h3><strong>Estimated total:</strong>  {{ totals.total|currency }}</h3>

	
	<input type="text" id="coupon" name="coupon" value="{{ coupon_code }}" placeholder="Coupon code" />

	<a href="#" data-ajax-handler="shop:cart" data-ajax-update="#cart-content=shop-cart-content, #mini-cart=shop-minicart">Update cart</a>
	<a class="button continue-shopping" href="{{ site_url('shop') }}">Continue shopping</a>
	{% if customer %}
		<a class="button next" href="{{ site_url('/checkout') }}">Checkout</a>
	{% else %}
		<a class="button next" href="{{ site_url('/checkout-start') }}">Checkout</a>
	{% endif %}
{% else %}
	<h2>Your cart is empty! Continue shopping.</h2>
{% endif %}
{{ close_form() }}